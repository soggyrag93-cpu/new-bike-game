<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bike Stunt Game</title>
<style>
body { margin:0; overflow:hidden; background:#87CEEB; }
canvas { background:#87CEEB; display:block; }
</style>
</head>
<body>
<canvas id="game"></canvas>
<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let gravity = 0.5;
let bike = {
  x: 100,
  y: 300,
  width: 60,
  height: 20,
  speed: 0,
  rotation: 0,
  yVel: 0,
  grounded: false
};

let keys = {};

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

let ground = [];
for (let i = 0; i < 50; i++) {
  ground.push({
    x: i * 200,
    y: 400 + Math.sin(i) * 100
  });
}

function drawGround() {
  ctx.beginPath();
  ctx.moveTo(0, canvas.height);
  ctx.lineTo(0, ground[0].y);
  for (let g of ground) {
    ctx.lineTo(g.x - bike.x + 100, g.y);
  }
  ctx.lineTo(canvas.width, canvas.height);
  ctx.fillStyle = "#654321";
  ctx.fill();
}

function update() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (keys["ArrowUp"]) bike.speed += 0.2;
  if (keys["ArrowDown"]) bike.speed *= 0.95;

  bike.speed *= 0.99;

  bike.x += bike.speed;

  bike.yVel += gravity;
  bike.y += bike.yVel;

  let currentGround = ground[Math.floor(bike.x / 200)];
  if (currentGround) {
    let groundY = currentGround.y - 20;
    if (bike.y > groundY) {
      bike.y = groundY;
      bike.yVel = 0;
      bike.grounded = true;
    } else {
      bike.grounded = false;
    }
  }

  if (!bike.grounded) {
    if (keys["ArrowLeft"]) bike.rotation -= 0.05;
    if (keys["ArrowRight"]) bike.rotation += 0.05;
  }

  drawGround();

  ctx.save();
  ctx.translate(100, bike.y);
  ctx.rotate(bike.rotation);
  ctx.fillStyle = "red";
  ctx.fillRect(-30, -10, 60, 20);
  ctx.restore();

  requestAnimationFrame(update);
}

update();
</script>
</body>
</html>
